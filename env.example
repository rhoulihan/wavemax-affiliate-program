# WaveMAX Laundry Affiliate Program - MongoDB Atlas Configuration
# This file contains environment variables for secure database connection and encryption

# Server Configuration
PORT=3000
NODE_ENV=development
ENABLE_DELETE_DATA_FEATURE=false
SHOW_DOCS=false
BASE_URL=https://wavemax.promo

# Generate strong random keys for production (example command)
# Run: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=

# Generate JWT secret (example command)
# Run: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=

# Generate SESSION secret
# Run: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=

# Email Configuration
# Set EMAIL_PROVIDER to one of: smtp, ses, exchange, console
EMAIL_PROVIDER=smtp
EMAIL_USER=noreply@wavemax.promo
EMAIL_PASS=email_password_here
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587

# Amazon SES Configuration (when EMAIL_PROVIDER=ses)
SES_FROM_EMAIL=noreply@yourdomain.com

# MS Exchange Server Configuration (when EMAIL_PROVIDER=exchange)
EXCHANGE_HOST=mail.yourdomain.com
EXCHANGE_PORT=587
EXCHANGE_USER=your-exchange-username
EXCHANGE_PASS=your-exchange-password
EXCHANGE_FROM_EMAIL=noreply@yourdomain.com
# Set to 'false' to allow self-signed certificates (not recommended for production)
EXCHANGE_REJECT_UNAUTHORIZED=true

# CORS Configuration
CORS_ORIGIN=https://yourdomain.com,http://localhost:3000

# OAuth Callback Configuration
# Set this to the domain where your Node.js app is actually running
# This is used for OAuth provider callbacks (Google, Facebook, LinkedIn)
OAUTH_CALLBACK_URI=https://wavemax.promo

# CSRF Protection Configuration
# Phase 1: Critical endpoints only (orders, payments, admin)
# Phase 2: High priority endpoints (profiles, settings)
# Phase 3: All state-changing endpoints
CSRF_PHASE=1

# Rate Limiting Configuration
# Set to true to relax rate limiting for development/testing
RELAX_RATE_LIMITING=false

# Stripe API Keys (optional, for payment processing)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Social Media OAuth Configuration
# Google OAuth 2.0 - Get from Google Cloud Console
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Facebook OAuth - Get from Facebook Developers
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret

# LinkedIn OAuth - Get from LinkedIn Developer Portal
LINKEDIN_CLIENT_ID=your_linkedin_client_id
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret

# AWS S3 Configuration (optional, for storing bag barcodes)
AWS_S3_BUCKET=wavemax-laundry-barcodes
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-2

# Paygistix Payment Gateway Configuration
# Environment: sandbox or production
PAYGISTIX_ENVIRONMENT=sandbox

# API Credentials - Get from Paygistix Dashboard
PAYGISTIX_API_KEY=your_paygistix_api_key
PAYGISTIX_API_SECRET=your_paygistix_api_secret
PAYGISTIX_WEBHOOK_SECRET=your_paygistix_webhook_secret

# Sandbox Credentials (optional, defaults to main credentials if not set)
PAYGISTIX_SANDBOX_API_KEY=your_sandbox_api_key
PAYGISTIX_SANDBOX_API_SECRET=your_sandbox_api_secret
PAYGISTIX_SANDBOX_WEBHOOK_SECRET=your_sandbox_webhook_secret

# API URLs (optional, uses defaults if not set)
# PAYGISTIX_API_URL=https://api.paygistix.com/v1
# PAYGISTIX_SANDBOX_URL=https://sandbox-api.paygistix.com/v1

# Payment Configuration
PAYGISTIX_AUTO_CAPTURE=false
PAYGISTIX_PAYMENT_TIMEOUT=30000
PAYGISTIX_STATEMENT_DESCRIPTOR=WAVEMAX

# Currency Settings
PAYGISTIX_SUPPORTED_CURRENCIES=USD,EUR,GBP,CAD,AUD
PAYGISTIX_MINIMUM_AMOUNT=50
PAYGISTIX_MAXIMUM_AMOUNT=99999999

# 3D Secure Configuration
PAYGISTIX_3DS_REQUIRED=false
PAYGISTIX_3DS_THRESHOLD=10000

# Tokenization
PAYGISTIX_TOKENIZATION_ENABLED=true

# Retry Configuration
PAYGISTIX_MAX_RETRIES=3
PAYGISTIX_RETRY_DELAY=1000
PAYGISTIX_RETRY_BACKOFF=true

# Rate Limiting
PAYGISTIX_RATE_LIMIT_REQUESTS=100
PAYGISTIX_RATE_LIMIT_WINDOW=60000

# Logging
PAYGISTIX_LOG_REQUESTS=false
PAYGISTIX_LOG_RESPONSES=false
PAYGISTIX_LOG_ERRORS=true

# Webhook Configuration
PAYGISTIX_WEBHOOK_ENDPOINT=/api/payments/webhook
PAYGISTIX_WEBHOOK_MAX_ATTEMPTS=5
PAYGISTIX_WEBHOOK_INITIAL_DELAY=60000
PAYGISTIX_WEBHOOK_MAX_DELAY=3600000

# Fraud Detection
PAYGISTIX_FRAUD_DETECTION_ENABLED=true
PAYGISTIX_FRAUD_RISK_THRESHOLD=medium
PAYGISTIX_REQUIRE_CVV=true
PAYGISTIX_REQUIRE_ADDRESS=false

# Metadata
PAYGISTIX_METADATA_PREFIX=wavemax_