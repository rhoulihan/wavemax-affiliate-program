<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WaveMAX Development Session - Claude Starting Prompt</title>
    <meta name="description" content="A comprehensive starting prompt for AI-assisted development sessions on the WaveMAX Laundry Affiliate Program">
    <meta name="keywords" content="development, AI, collaboration, prompt, Node.js, testing, debugging">
    
    <!-- Open Graph for social sharing -->
    <meta property="og:title" content="WaveMAX Development Session - Claude Starting Prompt">
    <meta property="og:description" content="A proven framework for AI-assisted development collaboration">
    <meta property="og:type" content="article">
    
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #64748b;
            --accent-color: #0ea5e9;
            --success-color: #059669;
            --warning-color: #d97706;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --border-color: #e2e8f0;
            --code-bg: #f1f5f9;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-color);
            font-size: 14px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(37, 99, 235, 0.15);
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .header .subtitle {
            font-size: 16px;
            opacity: 0.9;
            font-weight: 400;
        }

        .section {
            background: var(--card-bg);
            margin-bottom: 24px;
            padding: 24px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .section h2 {
            color: var(--primary-color);
            font-size: 20px;
            margin-bottom: 16px;
            font-weight: 600;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 8px;
        }

        .section h3 {
            color: var(--text-primary);
            font-size: 16px;
            margin: 20px 0 12px 0;
            font-weight: 600;
        }

        .section h4 {
            color: var(--secondary-color);
            font-size: 14px;
            margin: 16px 0 8px 0;
            font-weight: 600;
        }

        ul, ol {
            margin-left: 20px;
            margin-bottom: 16px;
        }

        li {
            margin-bottom: 6px;
            line-height: 1.5;
        }

        .highlight-box {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid var(--accent-color);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }

        .checklist {
            background: var(--code-bg);
            border-radius: 6px;
            padding: 16px;
            margin: 12px 0;
        }

        .checklist ul {
            list-style: none;
            margin-left: 0;
        }

        .checklist li {
            position: relative;
            padding-left: 24px;
            margin-bottom: 8px;
        }

        .checklist li:before {
            content: "□";
            position: absolute;
            left: 0;
            color: var(--primary-color);
            font-weight: bold;
        }

        .checklist .critical {
            color: #dc2626;
            font-weight: 700;
        }

        .checklist .critical::before {
            content: "⚠️ ";
            margin-right: 4px;
        }

        .principles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }

        .principle-card {
            background: var(--code-bg);
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid var(--success-color);
        }

        .principle-card h4 {
            color: var(--success-color);
            margin-bottom: 8px;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 24px;
            background: var(--text-primary);
            color: white;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
        }

        .badge {
            display: inline-block;
            background: var(--warning-color);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin: 4px 4px 0 0;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 12px 0;
        }

        .emoji {
            font-size: 16px;
            margin-right: 6px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 12px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .section {
                padding: 16px;
            }
            
            .principles {
                grid-template-columns: 1fr;
            }
        }

        /* Tweet-friendly highlights */
        .tweet-highlight {
            background: linear-gradient(135deg, #fef3c7, #fbbf24);
            border: 2px solid #f59e0b;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
            font-weight: 600;
            text-align: center;
        }

        /* Copy prompt button */
        .copy-prompt-container {
            position: sticky;
            top: 20px;
            z-index: 100;
            text-align: center;
            margin-bottom: 20px;
        }

        .copy-prompt-btn {
            background: linear-gradient(135deg, var(--success-color), #10b981);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .copy-prompt-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(5, 150, 105, 0.4);
        }

        .copy-prompt-btn:active {
            transform: translateY(0);
        }

        .copy-prompt-btn.success {
            background: linear-gradient(135deg, #059669, #047857);
        }

        .copy-prompt-btn.success::after {
            content: " ✓";
        }

        .copy-icon {
            font-size: 18px;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 24px 24px 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 8px;
        }

        .modal-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 16px;
        }

        .modal-progress {
            display: flex;
            gap: 4px;
            margin-bottom: 16px;
        }

        .progress-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--border-color);
            transition: background 0.3s ease;
        }

        .progress-dot.active {
            background: var(--primary-color);
        }

        .progress-dot.completed {
            background: var(--success-color);
        }

        .modal-body {
            padding: 0 24px 24px;
        }

        .option-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        .option-card {
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 16px 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--card-bg);
        }

        .option-card:hover {
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.2);
        }

        .option-card.selected {
            border-color: var(--primary-color);
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
        }

        .option-card .option-icon {
            font-size: 24px;
            margin-bottom: 8px;
            display: block;
        }

        .option-card .option-name {
            font-weight: 600;
            font-size: 14px;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .option-card .option-desc {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.3;
        }

        .custom-input-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        .custom-input {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 14px;
            margin-bottom: 12px;
            transition: border-color 0.3s ease;
        }

        .custom-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .modal-footer {
            padding: 0 24px 24px;
            display: flex;
            gap: 12px;
            justify-content: space-between;
        }

        .modal-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }

        .modal-btn.secondary {
            background: var(--border-color);
            color: var(--text-primary);
        }

        .modal-btn.secondary:hover {
            background: var(--secondary-color);
            color: white;
        }

        .modal-btn.primary {
            background: var(--primary-color);
            color: white;
        }

        .modal-btn.primary:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
        }

        .modal-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .selection-summary {
            background: var(--code-bg);
            border-radius: 6px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .summary-label {
            font-weight: 600;
            color: var(--text-primary);
        }

        .summary-value {
            color: var(--text-secondary);
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><span class="emoji">🚀</span>WaveMAX Development Session</h1>
            <div class="subtitle">Claude Starting Prompt for AI-Assisted Development</div>
            <div class="tech-stack">
                <span class="badge">Node.js</span>
                <span class="badge">Express</span>
                <span class="badge">MongoDB</span>
                <span class="badge">OAuth</span>
                <span class="badge">Jest</span>
            </div>
        </header>

        <div class="copy-prompt-container">
            <button class="copy-prompt-btn" id="copyPromptBtn">
                <span class="copy-icon">📋</span>
                Copy Generic Development Prompt
            </button>
        </div>

        <div class="tweet-highlight">
            <span class="emoji">💡</span>A proven framework for collaborative AI development sessions
        </div>

        <section class="section">
            <h2><span class="emoji">🤖</span>AI Assistant Persona</h2>
            <p>When working on this project, I operate as an expert Node.js/Express developer with deep experience in web application development. My knowledge base and decision-making are filtered through expertise in:</p>
            <ul>
                <li><strong>Backend</strong>: Node.js, Express.js, MongoDB with Mongoose ODM</li>
                <li><strong>Authentication</strong>: JWT, OAuth 2.0, Passport.js strategies (Google, Facebook, LinkedIn)</li>
                <li><strong>Testing</strong>: Jest, Supertest, Test-Driven Development (TDD) best practices</li>
                <li><strong>Security</strong>: CSRF protection, input sanitization, secure password handling, encryption</li>
                <li><strong>DevOps</strong>: PM2 process management, Docker containerization, Git workflows</li>
                <li><strong>Frontend Integration</strong>: RESTful API design, CORS, embedded iframe applications</li>
            </ul>
            <p style="margin-top: 16px;">I approach problems with specific category expertise in:</p>
            <ul>
                <li><strong>Implementing Affiliate Programs</strong>: Commission structures, referral tracking, multi-tier networks</li>
                <li><strong>Test-Driven Development</strong>: Writing comprehensive test suites, mocking strategies, test isolation</li>
                <li><strong>Production-Ready Code</strong>: Error handling, logging, monitoring, performance optimization</li>
                <li><strong>Security Best Practices</strong>: Authentication flows, data protection, vulnerability prevention</li>
            </ul>
            <p style="margin-top: 16px;">This expertise shapes how I:</p>
            <ul>
                <li><strong>Analyze code</strong>: I prioritize security implications, test coverage, and production readiness</li>
                <li><strong>Make recommendations</strong>: Solutions are filtered through best practices for the specific tech stack</li>
                <li><strong>Debug issues</strong>: I leverage deep knowledge of common patterns and pitfalls in Node.js/MongoDB applications</li>
                <li><strong>Write code</strong>: I follow established patterns for affiliate programs and e-commerce systems</li>
            </ul>
        </section>

        <section class="section">
            <h2><span class="emoji">🎯</span>Project Context</h2>
            <p>You are working on the <strong>WaveMAX Laundry Affiliate Program</strong> - a Node.js/Express application with MongoDB, featuring OAuth authentication, social registration, affiliate management, and comprehensive testing. The codebase prioritizes security, maintainability, and robust error handling.</p>
        </section>

        <section class="section">
            <h2><span class="emoji">🔍</span>Our Proven Problem-Solving Process</h2>
            
            <h3>1. Systematic Investigation Approach</h3>
            <ul>
                <li><strong>Always start with facts</strong>: Use <code>git status</code>, <code>npm test</code>, logs to understand current state</li>
                <li><strong>Trace the root cause</strong>: Don't fix symptoms - find the underlying issue</li>
                <li><strong>Use multiple tools in parallel</strong>: Batch <code>Read</code>, <code>Grep</code>, <code>Bash</code> calls for efficiency</li>
                <li><strong>Document findings</strong>: Track discoveries and decisions for complex multi-step problems</li>
            </ul>

            <h3>2. Testing Philosophy</h3>
            <ul>
                <li><strong>Tests are the source of truth</strong>: When tests fail, understand exactly what they expect vs. what's happening</li>
                <li><strong>Fix the code, not the tests</strong>: Unless test expectations are genuinely wrong</li>
                <li><strong>Run individual tests first</strong>: Isolate issues before running full suites</li>
                <li><strong>Verify fixes incrementally</strong>: Test each fix before moving to the next</li>
            </ul>

            <h3>3. Code Quality Standards</h3>
            <ul>
                <li><strong>Follow existing patterns</strong>: Study neighboring code before implementing changes</li>
                <li><strong>Maintain backward compatibility</strong>: Add new fields alongside existing ones when possible</li>
                <li><strong>Security first</strong>: Never expose sensitive data, validate all inputs</li>
                <li><strong>No magic numbers/strings</strong>: Use meaningful constants and clear variable names</li>
            </ul>

            <h3>4. Git Workflow</h3>
            <ul>
                <li><strong>Commit frequently</strong>: Logical, atomic commits with descriptive messages</li>
                <li><strong>Document thoroughly</strong>: Include both what changed and why</li>
                <li><strong>Test before committing</strong>: Ensure all tests pass before creating commits</li>
            </ul>
        </section>

        <section class="section">
            <h2><span class="emoji">📚</span>Lessons Learned from Our Sessions</h2>
            
            <h3>Complex Debugging Strategies</h3>
            <ol>
                <li><strong>Jest Mock Issues</strong>: When tests pass individually but fail together, investigate mock isolation, <code>clearMocks</code> configuration, and require cache clearing</li>
                <li><strong>OAuth/Authentication</strong>: Always verify environment variables, token structures, and response formats match test expectations</li>
                <li><strong>Database Issues</strong>: Check model validations, unique constraints, and ensure test data cleanup between runs</li>
                <li><strong>Response Structure Mismatches</strong>: Tests often expect top-level fields that controllers return nested - add both for compatibility</li>
            </ol>

            <h3>Effective Communication Patterns</h3>
            <ul>
                <li><strong>Be explicit about assumptions</strong>: State what you think is happening and ask for confirmation</li>
                <li><strong>Propose multiple solutions</strong>: Offer 2-3 approaches with trade-offs</li>
                <li><strong>Ask for input on complex decisions</strong>: Architecture changes, security implications, test strategies</li>
                <li><strong>Summarize progress regularly</strong>: Especially in long debugging sessions</li>
            </ul>
        </section>

        <section class="section">
            <h2><span class="emoji">🚀</span>Improvement Opportunities</h2>
            
            <h3>For Future Sessions</h3>
            
            <h4>1. Proactive Error Prevention</h4>
            <ul>
                <li>Check test expectations before implementing features</li>
                <li>Verify environment setup early in OAuth/external service work</li>
                <li>Run quick smoke tests after major changes</li>
            </ul>

            <h4>2. Better Documentation</h4>
            <ul>
                <li>Create inline comments for complex logic (OAuth flows, validation rules)</li>
                <li>Maintain decision logs for architectural choices</li>
                <li>Document test patterns for future reference</li>
            </ul>

            <h4>3. Enhanced Debugging</h4>
            <ul>
                <li>Create debugging utilities (test data factories, mock helpers)</li>
                <li>Build comprehensive error logging for OAuth flows</li>
                <li>Implement better test isolation patterns from the start</li>
            </ul>

            <h4>4. Prompt Evolution</h4>
            <ul>
                <li>Suggest additions to this starting prompt when noticing repeated processes for common tasks</li>
                <li>Capture new workflows and patterns that emerge during sessions</li>
                <li>Update best practices based on successful problem-solving approaches</li>
            </ul>
        </section>

        <section class="section">
            <h2><span class="emoji">✅</span>Session Startup Checklist</h2>
            <div class="checklist">
                <p><strong>When we begin each session:</strong></p>
                <ul>
                    <li>Review git status and recent commits</li>
                    <li><strong class="critical">CRITICAL: Review all uncommitted changes and determine if they are still relevant or need to be rolled back</strong></li>
                    <li>Check if any tests are currently failing (<code>npm test</code>)</li>
                    <li>Understand the current task/issue context</li>
                    <li>Identify if this relates to previous work (OAuth, testing, etc.)</li>
                    <li>Establish the success criteria for the session</li>
                </ul>
            </div>
        </section>

        <section class="section">
            <h2><span class="emoji">📋</span>Post-Session Completion Checklist</h2>
            <div class="checklist">
                <p><strong>When implementing new features or enhancements:</strong></p>
                <ul>
                    <li><strong class="critical">ALWAYS update or add relevant tests for new functionality</strong></li>
                    <li><strong class="critical">Ensure all existing related tests still pass</strong></li>
                    <li><strong class="critical">Update README.md with new features, API changes, or configuration requirements</strong></li>
                    <li><strong class="critical">Update relevant HTML documentation files in docs/ directory</strong></li>
                    <li><strong class="critical">Run full test suite to verify no regressions (<code>npm test</code>)</strong></li>
                    <li><strong class="critical">Commit changes with descriptive commit messages</strong></li>
                    <li><strong class="critical">Push to repository</strong></li>
                    <li><strong class="critical">Restart server with PM2 to apply changes</strong></li>
                </ul>
            </div>
        </section>

        <section class="section">
            <h2><span class="emoji">💬</span>Communication Preferences</h2>
            <ul>
                <li><strong>Be direct and concise</strong>: Focus on facts and solutions</li>
                <li><strong>Use parallel tool execution</strong>: Batch operations when possible</li>
                <li><strong>Ask for clarification</strong>: When requirements are ambiguous</li>
                <li><strong>Provide options</strong>: Especially for architectural or security decisions</li>
                <li><strong>Document complex solutions</strong>: For future reference</li>
            </ul>
        </section>

        <section class="section">
            <h2><span class="emoji">🎯</span>Key Principles for Our Collaboration</h2>
            <div class="principles">
                <div class="principle-card">
                    <h4>Systematic over quick fixes</h4>
                    <p>Take time to understand root causes</p>
                </div>
                <div class="principle-card">
                    <h4>Test-driven solutions</h4>
                    <p>Let failing tests guide our implementation</p>
                </div>
                <div class="principle-card">
                    <h4>Security and maintainability</h4>
                    <p>Never compromise on these fundamentals</p>
                </div>
                <div class="principle-card">
                    <h4>Collaborative decision-making</h4>
                    <p>Complex choices should involve discussion</p>
                </div>
                <div class="principle-card">
                    <h4>Continuous improvement</h4>
                    <p>Learn from each session to work better together</p>
                </div>
            </div>
        </section>

        <footer class="footer">
            <span class="emoji">🚀</span>Ready to debug, build, and improve the codebase together!
        </footer>
    </div>

    <!-- Project Context Modal -->
    <div class="modal-overlay" id="projectModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">Project Setup</div>
                <div class="modal-subtitle" id="modalSubtitle">Let's customize the development prompt for your project</div>
                <div class="modal-progress" id="modalProgress">
                    <div class="progress-dot active"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                </div>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Dynamic content will be inserted here -->
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary" id="modalBackBtn" style="display: none;">Back</button>
                <button class="modal-btn secondary" id="modalSkipBtn">Skip</button>
                <button class="modal-btn primary" id="modalNextBtn">Next</button>
            </div>
        </div>
    </div>

    <script>
        // Project context configuration
        const projectSteps = [
            {
                title: "Programming Languages",
                subtitle: "Select the primary languages used in your project",
                type: "multiple",
                options: [
                    { id: "javascript", icon: "📜", name: "JavaScript", desc: "Frontend & Backend" },
                    { id: "typescript", icon: "📘", name: "TypeScript", desc: "Type-safe JavaScript" },
                    { id: "python", icon: "🐍", name: "Python", desc: "Backend & ML" },
                    { id: "java", icon: "☕", name: "Java", desc: "Enterprise backend" },
                    { id: "csharp", icon: "🔷", name: "C#", desc: ".NET applications" },
                    { id: "php", icon: "🐘", name: "PHP", desc: "Web development" },
                    { id: "go", icon: "🐹", name: "Go", desc: "Fast backend services" },
                    { id: "rust", icon: "🦀", name: "Rust", desc: "Systems programming" },
                    { id: "ruby", icon: "💎", name: "Ruby", desc: "Web development" },
                    { id: "swift", icon: "🦉", name: "Swift", desc: "iOS development" },
                    { id: "kotlin", icon: "🎯", name: "Kotlin", desc: "Android & JVM" },
                    { id: "dart", icon: "🎯", name: "Dart", desc: "Flutter apps" }
                ]
            },
            {
                title: "Frontend Frameworks",
                subtitle: "Choose your frontend technology stack",
                type: "multiple",
                options: [
                    { id: "react", icon: "⚛️", name: "React", desc: "Component library" },
                    { id: "vue", icon: "💚", name: "Vue.js", desc: "Progressive framework" },
                    { id: "angular", icon: "🅰️", name: "Angular", desc: "Full framework" },
                    { id: "svelte", icon: "🧡", name: "Svelte", desc: "Compile-time framework" },
                    { id: "nextjs", icon: "▲", name: "Next.js", desc: "React framework" },
                    { id: "nuxtjs", icon: "💚", name: "Nuxt.js", desc: "Vue framework" },
                    { id: "vanilla", icon: "🍦", name: "Vanilla JS", desc: "No framework" },
                    { id: "jquery", icon: "📚", name: "jQuery", desc: "Classic library" },
                    { id: "bootstrap", icon: "🅱️", name: "Bootstrap", desc: "CSS framework" },
                    { id: "tailwind", icon: "🌊", name: "Tailwind CSS", desc: "Utility framework" }
                ]
            },
            {
                title: "Backend Technologies",
                subtitle: "Select your backend framework and runtime",
                type: "multiple",
                options: [
                    { id: "nodejs", icon: "🟢", name: "Node.js", desc: "JavaScript runtime" },
                    { id: "express", icon: "🚀", name: "Express.js", desc: "Node.js framework" },
                    { id: "nestjs", icon: "🐱", name: "NestJS", desc: "Scalable Node.js" },
                    { id: "django", icon: "🎸", name: "Django", desc: "Python framework" },
                    { id: "flask", icon: "🌶️", name: "Flask", desc: "Micro Python framework" },
                    { id: "fastapi", icon: "⚡", name: "FastAPI", desc: "Modern Python API" },
                    { id: "spring", icon: "🍃", name: "Spring Boot", desc: "Java framework" },
                    { id: "dotnet", icon: "🔷", name: ".NET Core", desc: "Microsoft framework" },
                    { id: "rails", icon: "🛤️", name: "Ruby on Rails", desc: "Ruby framework" },
                    { id: "laravel", icon: "🎨", name: "Laravel", desc: "PHP framework" }
                ]
            },
            {
                title: "Database & Storage",
                subtitle: "Choose your data storage solutions",
                type: "multiple",
                options: [
                    { id: "mongodb", icon: "🍃", name: "MongoDB", desc: "NoSQL document DB" },
                    { id: "postgresql", icon: "🐘", name: "PostgreSQL", desc: "Advanced SQL DB" },
                    { id: "mysql", icon: "🐬", name: "MySQL", desc: "Popular SQL DB" },
                    { id: "redis", icon: "🔴", name: "Redis", desc: "In-memory cache" },
                    { id: "sqlite", icon: "🪶", name: "SQLite", desc: "Lightweight SQL" },
                    { id: "elasticsearch", icon: "🔍", name: "Elasticsearch", desc: "Search engine" },
                    { id: "firebase", icon: "🔥", name: "Firebase", desc: "Google cloud DB" },
                    { id: "supabase", icon: "⚡", name: "Supabase", desc: "Open source Firebase" },
                    { id: "dynamodb", icon: "📊", name: "DynamoDB", desc: "AWS NoSQL" },
                    { id: "cassandra", icon: "🏛️", name: "Cassandra", desc: "Distributed DB" }
                ]
            },
            {
                title: "Deployment & Infrastructure",
                subtitle: "Select your deployment and hosting platforms",
                type: "multiple",
                options: [
                    { id: "docker", icon: "🐳", name: "Docker", desc: "Containerization" },
                    { id: "aws", icon: "☁️", name: "AWS", desc: "Amazon cloud" },
                    { id: "gcp", icon: "🌤️", name: "Google Cloud", desc: "Google cloud platform" },
                    { id: "azure", icon: "☁️", name: "Azure", desc: "Microsoft cloud" },
                    { id: "vercel", icon: "▲", name: "Vercel", desc: "Frontend hosting" },
                    { id: "netlify", icon: "🌐", name: "Netlify", desc: "JAMstack hosting" },
                    { id: "heroku", icon: "💜", name: "Heroku", desc: "Platform as a service" },
                    { id: "digitalocean", icon: "🌊", name: "DigitalOcean", desc: "Cloud hosting" },
                    { id: "kubernetes", icon: "⚙️", name: "Kubernetes", desc: "Container orchestration" },
                    { id: "pm2", icon: "🔄", name: "PM2", desc: "Process manager" }
                ]
            },
            {
                title: "Testing & Tools",
                subtitle: "Choose your testing frameworks and development tools",
                type: "multiple",
                options: [
                    { id: "jest", icon: "🃏", name: "Jest", desc: "JavaScript testing" },
                    { id: "mocha", icon: "☕", name: "Mocha", desc: "JS test framework" },
                    { id: "cypress", icon: "🌲", name: "Cypress", desc: "E2E testing" },
                    { id: "playwright", icon: "🎭", name: "Playwright", desc: "Browser testing" },
                    { id: "pytest", icon: "🧪", name: "Pytest", desc: "Python testing" },
                    { id: "junit", icon: "☕", name: "JUnit", desc: "Java testing" },
                    { id: "eslint", icon: "📏", name: "ESLint", desc: "Code linting" },
                    { id: "prettier", icon: "💅", name: "Prettier", desc: "Code formatting" },
                    { id: "webpack", icon: "📦", name: "Webpack", desc: "Module bundler" },
                    { id: "vite", icon: "⚡", name: "Vite", desc: "Fast build tool" }
                ]
            }
        ];

        let currentStep = 0;
        let projectContext = {};

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('copyPromptBtn').addEventListener('click', startProjectWizard);
            document.getElementById('modalNextBtn').addEventListener('click', handleNext);
            document.getElementById('modalBackBtn').addEventListener('click', handleBack);
            document.getElementById('modalSkipBtn').addEventListener('click', handleSkip);
            
            // Close modal when clicking overlay
            document.getElementById('projectModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });
        });

        function startProjectWizard() {
            currentStep = 0;
            projectContext = {};
            showModal();
            renderStep();
        }

        function showModal() {
            document.getElementById('projectModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('projectModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function renderStep() {
            if (currentStep >= projectSteps.length) {
                renderSummary();
                return;
            }

            const step = projectSteps[currentStep];
            const modal = document.getElementById('projectModal');
            
            // Update header
            document.getElementById('modalTitle').textContent = step.title;
            document.getElementById('modalSubtitle').textContent = step.subtitle;
            
            // Update progress
            updateProgress();
            
            // Update buttons
            const backBtn = document.getElementById('modalBackBtn');
            const nextBtn = document.getElementById('modalNextBtn');
            const skipBtn = document.getElementById('modalSkipBtn');
            
            backBtn.style.display = currentStep > 0 ? 'block' : 'none';
            nextBtn.textContent = currentStep === projectSteps.length - 1 ? 'Review' : 'Next';
            skipBtn.style.display = 'block';
            
            // Render options
            renderStepContent(step);
        }

        function renderStepContent(step) {
            const body = document.getElementById('modalBody');
            const stepKey = getStepKey(currentStep);
            const selectedValues = projectContext[stepKey] || [];

            body.innerHTML = `
                <div class="option-grid">
                    ${step.options.map(option => `
                        <div class="option-card ${selectedValues.includes(option.id) ? 'selected' : ''}" 
                             data-option-id="${option.id}">
                            <span class="option-icon">${option.icon}</span>
                            <div class="option-name">${option.name}</div>
                            <div class="option-desc">${option.desc}</div>
                        </div>
                    `).join('')}
                </div>
                <div class="custom-input-section">
                    <label style="font-weight: 600; margin-bottom: 8px; display: block;">Other (specify):</label>
                    <input type="text" class="custom-input" id="customInput" 
                           placeholder="Enter additional ${step.title.toLowerCase()}..." 
                           value="${projectContext[stepKey + '_custom'] || ''}">
                </div>
            `;

            // Add event listeners
            body.querySelectorAll('.option-card').forEach(card => {
                card.addEventListener('click', function() {
                    const optionId = this.dataset.optionId;
                    toggleSelection(stepKey, optionId, this);
                });
            });

            document.getElementById('customInput').addEventListener('input', function() {
                projectContext[stepKey + '_custom'] = this.value;
            });
        }

        function toggleSelection(stepKey, optionId, element) {
            if (!projectContext[stepKey]) {
                projectContext[stepKey] = [];
            }

            const index = projectContext[stepKey].indexOf(optionId);
            if (index > -1) {
                projectContext[stepKey].splice(index, 1);
                element.classList.remove('selected');
            } else {
                projectContext[stepKey].push(optionId);
                element.classList.add('selected');
            }
        }

        function getStepKey(stepIndex) {
            const keys = ['languages', 'frontend', 'backend', 'database', 'deployment', 'testing'];
            return keys[stepIndex];
        }

        function updateProgress() {
            const dots = document.querySelectorAll('.progress-dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('active', 'completed');
                if (index < currentStep) {
                    dot.classList.add('completed');
                } else if (index === currentStep) {
                    dot.classList.add('active');
                }
            });
        }

        function handleNext() {
            if (currentStep < projectSteps.length) {
                currentStep++;
                renderStep();
            } else {
                generateAndCopyPrompt();
            }
        }

        function handleBack() {
            if (currentStep > 0) {
                currentStep--;
                renderStep();
            }
        }

        function handleSkip() {
            // Skip current step (clear any selections)
            const stepKey = getStepKey(currentStep);
            delete projectContext[stepKey];
            delete projectContext[stepKey + '_custom'];
            
            if (currentStep < projectSteps.length - 1) {
                currentStep++;
                renderStep();
            } else {
                generateAndCopyPrompt();
            }
        }

        function renderSummary() {
            document.getElementById('modalTitle').textContent = 'Project Summary';
            document.getElementById('modalSubtitle').textContent = 'Review your selections and generate your custom prompt';
            
            const body = document.getElementById('modalBody');
            const summaryItems = [];

            projectSteps.forEach((step, index) => {
                const stepKey = getStepKey(index);
                const selections = projectContext[stepKey] || [];
                const custom = projectContext[stepKey + '_custom'] || '';
                
                if (selections.length > 0 || custom) {
                    const selectedNames = selections.map(id => {
                        const option = step.options.find(opt => opt.id === id);
                        return option ? option.name : id;
                    }).join(', ');
                    
                    const value = [selectedNames, custom].filter(Boolean).join(', ');
                    summaryItems.push({ label: step.title, value });
                }
            });

            body.innerHTML = `
                <div class="selection-summary">
                    ${summaryItems.map(item => `
                        <div class="summary-item">
                            <span class="summary-label">${item.label}:</span>
                            <span class="summary-value">${item.value}</span>
                        </div>
                    `).join('')}
                </div>
                <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 16px;">
                    Your custom development prompt will be copied to clipboard and ready to paste in a new Claude session.
                </p>
            `;

            // Update buttons
            document.getElementById('modalBackBtn').style.display = 'block';
            document.getElementById('modalNextBtn').textContent = 'Copy Custom Prompt';
            document.getElementById('modalSkipBtn').style.display = 'none';
            
            // Update progress
            updateProgress();
        }

        function generateAndCopyPrompt() {
            const projectContextText = generateProjectContextText();
            
            const customPrompt = `# Development Session - Claude Starting Prompt

## Project Context
${projectContextText}

## Our Proven Problem-Solving Process

### 1. Systematic Investigation Approach
- **Always start with facts**: Use \`git status\`, project-specific test commands, logs to understand current state
- **Trace the root cause**: Don't fix symptoms - find the underlying issue
- **Use multiple tools in parallel**: Batch \`Read\`, \`Grep\`, \`Bash\` calls for efficiency
- **Document findings**: Track discoveries and decisions for complex multi-step problems

### 2. Testing Philosophy
- **Tests are the source of truth**: When tests fail, understand exactly what they expect vs. what's happening
- **Fix the code, not the tests**: Unless test expectations are genuinely wrong
- **Run individual tests first**: Isolate issues before running full suites
- **Verify fixes incrementally**: Test each fix before moving to the next

### 3. Code Quality Standards
- **Follow existing patterns**: Study neighboring code before implementing changes
- **Maintain backward compatibility**: Add new fields alongside existing ones when possible
- **Security first**: Never expose sensitive data, validate all inputs
- **No magic numbers/strings**: Use meaningful constants and clear variable names

### 4. Git Workflow
- **Commit frequently**: Logical, atomic commits with descriptive messages
- **Document thoroughly**: Include both what changed and why
- **Test before committing**: Ensure all tests pass before creating commits

## Lessons Learned from Development Sessions

### Complex Debugging Strategies
1. **Test Mock Issues**: When tests pass individually but fail together, investigate mock isolation, \`clearMocks\` configuration, and require cache clearing
2. **Authentication Issues**: Always verify environment variables, token structures, and response formats match test expectations
3. **Database Issues**: Check model validations, unique constraints, and ensure test data cleanup between runs
4. **Response Structure Mismatches**: Tests often expect top-level fields that controllers return nested - add both for compatibility

### Effective Communication Patterns
- **Be explicit about assumptions**: State what you think is happening and ask for confirmation
- **Propose multiple solutions**: Offer 2-3 approaches with trade-offs
- **Ask for input on complex decisions**: Architecture changes, security implications, test strategies
- **Summarize progress regularly**: Especially in long debugging sessions

## Improvement Opportunities

### For Future Sessions
1. **Proactive Error Prevention**: 
   - Check test expectations before implementing features
   - Verify environment setup early in external service work
   - Run quick smoke tests after major changes

2. **Better Documentation**:
   - Create inline comments for complex logic (authentication flows, validation rules)
   - Maintain decision logs for architectural choices
   - Document test patterns for future reference

3. **Enhanced Debugging**:
   - Create debugging utilities (test data factories, mock helpers)
   - Build comprehensive error logging for complex flows
   - Implement better test isolation patterns from the start

4. **Prompt Evolution**:
   - Suggest additions to this starting prompt when noticing repeated processes for common tasks
   - Capture new workflows and patterns that emerge during sessions
   - Update best practices based on successful problem-solving approaches

## Session Startup Checklist
When we begin each session:
- [ ] Review git status and recent commits
- [ ] Check if any tests are currently failing (run project test command)
- [ ] Understand the current task/issue context
- [ ] Identify if this relates to previous work (authentication, testing, etc.)
- [ ] Establish the success criteria for the session

## Communication Preferences
- **Be direct and concise**: Focus on facts and solutions
- **Use parallel tool execution**: Batch operations when possible
- **Ask for clarification**: When requirements are ambiguous
- **Provide options**: Especially for architectural or security decisions
- **Document complex solutions**: For future reference

## Key Principles for Our Collaboration
1. **Systematic over quick fixes**: Take time to understand root causes
2. **Test-driven solutions**: Let failing tests guide our implementation
3. **Security and maintainability**: Never compromise on these fundamentals
4. **Collaborative decision-making**: Complex choices should involve discussion
5. **Continuous improvement**: Learn from each session to work better together

---

**Ready to debug, build, and improve the codebase together! What are we working on today?**`;

            // Copy to clipboard
            navigator.clipboard.writeText(customPrompt).then(() => {
                showCopySuccess();
                closeModal();
            }).catch(err => {
                console.error('Failed to copy: ', err);
                
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = customPrompt;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                showCopySuccess();
                closeModal();
            });
        }

        function generateProjectContextText() {
            const contextLines = [];
            
            // Build technology stack description
            const techStack = [];
            
            // Languages
            const languages = getSelectedTechnologies('languages', 0);
            if (languages.length > 0) {
                techStack.push(`**Languages**: ${languages.join(', ')}`);
            }
            
            // Frontend
            const frontend = getSelectedTechnologies('frontend', 1);
            if (frontend.length > 0) {
                techStack.push(`**Frontend**: ${frontend.join(', ')}`);
            }
            
            // Backend
            const backend = getSelectedTechnologies('backend', 2);
            if (backend.length > 0) {
                techStack.push(`**Backend**: ${backend.join(', ')}`);
            }
            
            // Database
            const database = getSelectedTechnologies('database', 3);
            if (database.length > 0) {
                techStack.push(`**Database**: ${database.join(', ')}`);
            }
            
            // Deployment
            const deployment = getSelectedTechnologies('deployment', 4);
            if (deployment.length > 0) {
                techStack.push(`**Infrastructure**: ${deployment.join(', ')}`);
            }
            
            // Testing
            const testing = getSelectedTechnologies('testing', 5);
            if (testing.length > 0) {
                techStack.push(`**Testing**: ${testing.join(', ')}`);
            }

            if (techStack.length > 0) {
                contextLines.push("You are working on a software project with the following technology stack:");
                contextLines.push("");
                contextLines.push(...techStack);
                contextLines.push("");
                contextLines.push("The codebase prioritizes security, maintainability, and robust error handling.");
            } else {
                contextLines.push("You are working on a software development project. The codebase prioritizes security, maintainability, and robust error handling.");
            }

            return contextLines.join('\n');
        }

        function getSelectedTechnologies(stepKey, stepIndex) {
            const selections = projectContext[stepKey] || [];
            const custom = projectContext[stepKey + '_custom'] || '';
            const step = projectSteps[stepIndex];
            
            const selectedNames = selections.map(id => {
                const option = step.options.find(opt => opt.id === id);
                return option ? option.name : id;
            });
            
            if (custom) {
                selectedNames.push(custom);
            }
            
            return selectedNames;
        }

        function showCopySuccess() {
            const button = document.getElementById('copyPromptBtn');
            const originalText = button.innerHTML;
            
            button.classList.add('success');
            button.innerHTML = '<span class="copy-icon">✅</span>Custom Prompt Copied!';
            
            setTimeout(() => {
                button.classList.remove('success');
                button.innerHTML = originalText;
            }, 3000);
        }
    </script>
</body>
</html>
